command:
  - streamlit
  - run
  - app_ultra_minimal.py
  - --server.port=8501
  - --server.address=0.0.0.0
  - --server.headless=true
  - --server.enableCORS=false
  - --server.enableXsrfProtection=false
  - --server.fileWatcherType=none

env:
  - name: 'STREAMLIT_SERVER_PORT'
    value: '8501'

resources:
  limits:
    memory: "2Gi"
    cpu: "1"

healthCheck:
  path: "/_stcore/health"
  port: 8501
  initialDelaySeconds: 120
  periodSeconds: 30
  timeoutSeconds: 15
  failureThreshold: 10

metadata:
  name: "databricks-streamlit-test"
  displayName: "Databricks Streamlit Test"
  description: "Ultra-minimal test to verify Streamlit works"
